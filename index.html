<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Morikawa NY 2026</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <script src="https://unpkg.com/pocketbase@latest/dist/pocketbase.umd.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet">
  <style>
    * { box-sizing: border-box; }
    body { 
      margin:0; 
      padding:0; 
      background:#000 url('https://images2.alphacoders.com/100/1006380.jpg') center/cover fixed no-repeat; /* 4K аниме-ночь с сакурой и фонарями */
      color:white; 
      font-family:'Noto Sans JP',sans-serif; 
      overflow:hidden; 
      height:100vh;
    }
    #snow { 
      position:fixed; 
      top:0; left:0; 
      width:100%; height:100%; 
      pointer-events:none; 
      opacity:0.5; 
      background:url('https://media.tenor.com/cPBQj33Iu-YAAAAM/cherry-blossom-anime.gif') center/cover fixed; /* Падающие лепестки */
      mix-blend-mode:screen; 
    }

    /* Общие стили */
    .container { 
      position:relative; 
      z-index:10; 
      text-align:center; 
      padding:2vh 4vw; 
      display:none; 
      backdrop-filter: blur(8px); 
      background:rgba(0,0,0,0.5); 
      border-radius:20px; 
      margin:2vh 2vw; 
      box-shadow:0 0 20px rgba(255,105,180,0.3); 
      max-height:90vh;
      overflow-y:auto;
    }
    .active { display:block; }

    /* Мобильный (по умолчанию, <768px) */
    h1 { font-size:9vw; margin:4vh 0; text-shadow:0 0 20px #ff1493; color:#ff69b4; }
    .countdown { font-size:6vw; margin:6vh 0; color:#ff69b4; text-shadow:0 0 12px #ff1493; }
    #game { width:90vw; height:90vw; max-width:360px; max-height:360px; margin:6vh auto; }
    button { font-size:5.5vw; padding:3vh 6vw; margin:2vh; min-height:10vh; }
    nav { position:fixed; bottom:0; left:0; width:100%; display:flex; justify-content:space-around; background:rgba(0,0,0,0.8); padding:2vh; backdrop-filter: blur(15px); }
    nav button { flex:1; font-size:4.5vw; padding:2vh; }
    #collection { grid-template-columns:repeat(2,1fr); gap:4vw; }
    #case-model { width:70vw; height:70vw; max-width:280px; max-height:280px; margin:8vh auto; }

    /* ПК (≥768px) */
    @media (min-width: 768px) {
      .container { padding:3vh 5vw; margin:3vh auto; max-width:90vw; }
      h1 { font-size:4.5vw; margin:3vh 0; }
      .countdown { font-size:3.5vw; margin:4vh 0; }
      #game { width:400px; height:400px; margin:4vh auto; }
      button { font-size:2.2vw; padding:2vh 4vw; margin:1.5vh; }
      nav { position:fixed; left:0; top:0; width:200px; height:100vh; flex-direction:column; justify-content:flex-start; padding:5vh 0; }
      nav button { width:80%; margin:2vh auto; font-size:1.8vw; padding:2vh; }
      .container { margin-left:220px; } /* Отступ под sidebar */
      #collection { grid-template-columns:repeat(auto-fill, minmax(200px,1fr)); gap:30px; }
      #case-model { width:300px; height:300px; margin:6vh auto; }
      #daily-info { font-size:2.5vw; }
      .top { font-size:2vw; }
    }

    /* Дополнительные общие стили (анимации, кейс и т.д.) */
    /* Вставь сюда все остальные стили из предыдущего кода: glow, shakeOpen, drop-animation, card-display, confetti и т.д. */
    /* Чтобы не удлинять — они те же, что в прошлом полном коде */
  </style>
</head>
<body>
  <div id="snow"></div>

  <!-- Контейнеры как раньше -->
  <div id="home" class="container active">
    <!-- ... весь контент главной ... -->
  </div>

  <div id="leaderboard" class="container">
    <!-- ... -->
  </div>

  <div id="cards" class="container">
    <!-- ... -->
  </div>

  <nav>
    <button onclick="switchPage('home')">Главная</button>
    <button onclick="switchPage('leaderboard')">Лидеры</button>
    <button onclick="switchPage('cards')">Кейсы</button>
  </nav>

  <script>
    // Весь скрипт из предыдущего полного кода (PocketBase, initPlayer, openCase, loadCollection, кадзюны и т.д.)
    // Он полностью совместим!
  </script>
</body>
</html>
