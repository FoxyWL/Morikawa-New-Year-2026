<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Morikawa NY 2026</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet">
  <style>
    /* ... (—Ç–æ—Ç –∂–µ —Å—Ç–∏–ª—å –∏–∑ –ø—Ä–æ—à–ª–æ–≥–æ, –Ω–µ –º–µ–Ω—è–ª –¥–ª—è –∫—Ä–∞—Ç–∫–æ—Å—Ç–∏, –Ω–æ –¥–æ–±–∞–≤—å –µ—Å–ª–∏ –Ω—É–∂–Ω–æ) */
    body { margin:0; padding:0; background:linear-gradient(#0b0e1a, #1a1f3a); color:white; font-family:'Noto Sans JP',sans-serif; overflow:hidden; }
    /* ... –æ—Å—Ç–∞–ª—å–Ω–æ–π CSS –∫–∞–∫ –≤ –ø—Ä–æ—à–ª–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏ ... */

    /* –ù–æ–≤—ã–π —Å—Ç–∏–ª—å –¥–ª—è –∫–µ–π—Å–æ–≤ –∏ –∫–∞—Ä—Ç–æ—á–µ–∫ */
    #case-button { background:#ff1493; padding:20px; font-size:24px; border-radius:20px; box-shadow:0 0 20px #ff69b4; }
    #drop-animation { position:fixed; top:50%; left:50%; transform:translate(-50%,-50%); width:300px; height:400px; display:none; z-index:30; }
    .card-display { width:100%; height:100%; background:#333; border:5px solid gold; border-radius:20px; padding:20px; text-align:center; box-shadow:0 0 30px #ffd700; }
    .rarity-common { border-color:#bbb; }
    .rarity-rare { border-color:#00ff00; }
    .rarity-epic { border-color:#ff00ff; }
    .card-img { width:200px; height:200px; object-fit:cover; border-radius:15px; margin:20px 0; }
    #collection { display:grid; grid-template-columns:repeat(auto-fill, minmax(150px,1fr)); gap:10px; margin:20px; }
    .collected-card { width:150px; height:200px; background-size:cover; border-radius:10px; opacity:0.7; }
    .collected-card.owned { opacity:1; box-shadow:0 0 15px gold; }
  </style>
</head>
<body>
  <!-- ... (—Å–Ω–µ–≥, –≥–ª–∞–≤–Ω–∞—è, –ª–∏–¥–µ—Ä–±–æ—Ä–¥ –∫–∞–∫ —Ä–∞–Ω—å—à–µ) ... -->

  <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ö–µ–π—Å—ã/–ö–∞—Ä—Ç–æ—á–∫–∏ -->
  <div id="cards" class="container">
    <h1>üé≤ –ö–µ–π—Å—ã —Å –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ –∏–≥—Ä–æ–∫–æ–≤ Morikawa</h1>
    <p>–û—Ç–∫—Ä—ã–≤–∞–π –∫–µ–π—Å ‚Äî —Å–æ–±–∏—Ä–∞–π –∫–æ–ª–ª–µ–∫—Ü–∏—é —Ç–æ–ø-–∂–∏—Ç–µ–ª–µ–π! (1 –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –≤ –¥–µ–Ω—å)</p>
    <button id="case-button" onclick="openCase()">–û—Ç–∫—Ä—ã—Ç—å –Ω–æ–≤–æ–≥–æ–¥–Ω–∏–π –∫–µ–π—Å üßß</button>
    <p id="daily-info"></p>

    <div id="drop-animation">
      <div class="card-display" id="dropped-card">
        <h2 id="card-name"></h2>
        <div id="card-rarity" style="font-size:18px; margin:10px;"></div>
        <img id="card-image" class="card-img">
        <p id="card-desc"></p>
        <button onclick="closeDrop()">–ó–∞–±—Ä–∞—Ç—å!</button>
      </div>
    </div>

    <h2>–¢–≤–æ—è –∫–æ–ª–ª–µ–∫—Ü–∏—è (<span id="collected-count">0</span>/<span id="total-count">0</span>)</h2>
    <div id="collection"></div>

    <button onclick="switchPage('home')">–ù–∞–∑–∞–¥</button>
  </div>

  <!-- ... –Ω–∞–≤–∏–≥–∞—Ü–∏—è ... -->

  <script>
    // ... (–≤–µ—Å—å –ø—Ä–æ—à–ª—ã–π —Å–∫—Ä–∏–ø—Ç: —Å–Ω–µ–≥, –æ—Ç—Å—á—ë—Ç, –∫–∞–¥–∑—é–Ω—ã, –ª–∏–¥–µ—Ä—ã, –Ω–∞–≤–∏–≥–∞—Ü–∏—è) ...

    // –ù–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–µ–π—Å–æ–≤
    const players = [  // ‚Üê –ó–¥–µ—Å—å –¥–æ–±–∞–≤–ª—è–π –Ω–æ–≤—ã—Ö –∏–≥—Ä–æ–∫–æ–≤!
      { name: "miymyr4", username: "@miymyr4", rarity: "epic", image: "https://i.ebayimg.com/images/g/YkgAAOSwuIRliHe3/s-l1200.jpg", desc: "–ú—ç—Ä Morikawa üëë" },
      { name: "–°–∞–º—É—Ä–∞–π –í–æ–∏–Ω", username: "@samurai", rarity: "rare", image: "https://static.planetminecraft.com/files/image/minecraft/project/2024/639/17655076-minecraft-samurai_xl.webp", desc: "–ú–∞—Å—Ç–µ—Ä –∫–∞—Ç–∞–Ω—ã ‚öîÔ∏è" },
      { name: "–ù–∏–Ω–¥–∑—è –¢–µ–Ω–∏", username: "@ninja", rarity: "rare", image: "https://play-lh.googleusercontent.com/2piZA7eQqvsfnLLwyTW7X-mwOz3YHQvxtWQvTpZM6eKgiok5l7uvSXyhd4DHynx0IA=w526-h296-rw", desc: "–ù–µ–≤–∏–¥–∏–º—ã–π —É–±–∏–π—Ü–∞ üó°Ô∏è" },
      { name: "–°–∞–∫—É—Ä–∞ –ì–µ–π—à–∞", username: "@sakura", rarity: "common", image: "https://xforgeassets002.xboxlive.com/pf-namespace-b63a0803d3653643/6d0bf87c-bf5e-4076-afa6-c721d0fbe6bc/CherryBlossomVillage_Thumbnail_0.jpg", desc: "–•—Ä–∞–Ω–∏—Ç–µ–ª—å–Ω–∏—Ü–∞ —Å–∞–¥–æ–≤ üå∏" },
      { name: "–î—Ä–∞–∫–æ–Ω –û–Ω–∏", username: "@oni", rarity: "epic", image: "https://atlbrick.com/cdn/shop/files/FullSizeRender_7ec97597-7ae8-4544-b958-5b060f0b1b96.jpg?v=1705685166", desc: "–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω—ã–π —Å—Ç—Ä–∞–∂ üêâ" },
      { name: "–°—Ç—Ä–æ–∏—Ç–µ–ª—å –•—Ä–∞–º–æ–≤", username: "@builder", rarity: "common", image: "https://m.media-amazon.com/images/I/71GA++J9V1L._AC_SL1500_.jpg", desc: "–ú–∞—Å—Ç–µ—Ä –º–∞–ø-–∞—Ä—Ç–æ–≤ ‚õ©Ô∏è" }
      // –î–æ–±–∞–≤–ª—è–π —Å—é–¥–∞ –Ω–æ–≤—ã—Ö!
    ];

    let collection = JSON.parse(localStorage.getItem('morikawa_collection') || '[]');
    const totalPlayers = players.length;

    function updateCollection() {
      document.getElementById('total-count').textContent = totalPlayers;
      document.getElementById('collected-count').textContent = collection.length;

      const collEl = document.getElementById('collection');
      collEl.innerHTML = '';
      players.forEach(p => {
        const div = document.createElement('div');
        div.className = 'collected-card' + (collection.includes(p.name) ? ' owned' : '');
        div.style.backgroundImage = `url('${p.image}')`;
        div.title = p.name + (collection.includes(p.name) ? ' ‚úì' : '');
        collEl.appendChild(div);
      });
    }

    function canOpenCase() {
      const last = localStorage.getItem('morikawa_last_case');
      const now = Date.now();
      if(!last || now - parseInt(last) > 86400000) return true; // 24 —á–∞—Å–∞
      return false;
    }

    function openCase() {
      if(!canOpenCase()) {
        Telegram.WebApp.showAlert('–°–µ–≥–æ–¥–Ω—è –∫–µ–π—Å —É–∂–µ –æ—Ç–∫—Ä—ã—Ç! –í–æ–∑–≤—Ä–∞—â–∞–π—Å—è –∑–∞–≤—Ç—Ä–∞ üéÅ');
        return;
      }

      const drop = players[Math.floor(Math.random() * players.length)];
      if(!collection.includes(drop.name)) collection.push(drop.name);
      localStorage.setItem('morikawa_collection', JSON.stringify(collection));
      localStorage.setItem('morikawa_last_case', Date.now().toString());

      // –ê–Ω–∏–º–∞—Ü–∏—è –¥—Ä–æ–ø–∞
      document.getElementById('card-name').textContent = drop.name + ' (' + drop.username + ')';
      document.getElementById('card-rarity').textContent = drop.rarity.toUpperCase();
      document.getElementById('card-rarity').style.color = drop.rarity === 'epic' ? '#ff00ff' : drop.rarity === 'rare' ? '#00ff00' : '#bbb';
      document.getElementById('card-image').src = drop.image;
      document.getElementById('card-desc').textContent = drop.desc;
      document.getElementById('dropped-card').className = 'card-display rarity-' + drop.rarity;
      document.getElementById('drop-animation').style.display = 'block';

      updateCollection();
    }

    function closeDrop() {
      document.getElementById('drop-animation').style.display = 'none';
      Telegram.WebApp.HapticFeedback.notificationOccurred('success');
    }

    // –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∫–∞—Ä—Ç–æ—á–µ–∫
    if(document.getElementById('cards')) {
      updateCollection();
      document.getElementById('daily-info').textContent = canOpenCase() ? '–ì–æ—Ç–æ–≤ –∫ –æ—Ç–∫—Ä—ã—Ç–∏—é!' : '–ó–∞–≤—Ç—Ä–∞ –Ω–æ–≤—ã–π –∫–µ–π—Å!';
    }

    // –í switchPage –¥–æ–±–∞–≤—å: if(page === 'cards') { updateCollection(); ... }
  </script>
</body>
</html>
