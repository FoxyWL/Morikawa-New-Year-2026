<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Morikawa NY 2026</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <script src="https://unpkg.com/pocketbase@latest/dist/pocketbase.umd.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet">
  <style>
    * { box-sizing: border-box; }
    body { 
      margin:0; 
      padding:0; 
      background:#000 url('https://images2.alphacoders.com/100/1006380.jpg') center/cover fixed no-repeat; 
      color:white; 
      font-family:'Noto Sans JP',sans-serif; 
      overflow:hidden; 
      height:100vh;
    }
    #snow { 
      position:fixed; 
      top:0; left:0; 
      width:100%; height:100%; 
      pointer-events:none; 
      opacity:0.5; 
      background:url('https://wallpapers.com/images/hd/cherry-blossoms-anime-scenery-h5alwun956z07kcw.jpg') center/cover fixed; 
      mix-blend-mode:screen; 
    }
    .container { 
      position:relative; 
      z-index:10; 
      text-align:center; 
      padding:5vw; 
      display:none; 
      backdrop-filter: blur(8px); 
      background:rgba(0,0,0,0.5); 
      border-radius:20px; 
      margin:3vw; 
      box-shadow:0 0 20px rgba(255,105,180,0.3); 
      max-height:85vh;
      overflow-y:auto;
    }
    .active { display:block; }
    h1 { font-size:8vw; margin:5vw 0; text-shadow:0 0 25px #ff1493; color:#ff69b4; }
    .countdown { font-size:6vw; margin:8vw 0; color:#ff69b4; text-shadow:0 0 15px #ff1493; }
    #game { width:85vw; height:85vw; max-width:340px; max-height:340px; margin:8vw auto; position:relative; background:rgba(255,105,180,0.15); border-radius:40px; overflow:hidden; border:4px solid #ff69b4; box-shadow:0 0 30px #ff1493; }
    .kadzyun { position:absolute; width:20vw; height:20vw; max-width:80px; max-height:80px; background:url('https://i.imgur.com/0Z9kZ0j.png') center/cover; cursor:pointer; animation:fadeIn 0.5s, glow 1.5s infinite alternate; }
    @keyframes glow { from { box-shadow:0 0 15px #ff69b4; } to { box-shadow:0 0 30px #ff1493; } }
    @keyframes fadeIn { from {opacity:0;} to {opacity:1;} }
    .score { font-size:6.5vw; margin:4vw; color:#ffd700; text-shadow:0 0 15px gold; }
    .buttons { margin:10vw 0; }
    button { background:linear-gradient(#ff1493, #ff69b4); border:none; color:white; padding:4vw 8vw; margin:3vw; border-radius:25px; font-size:5.5vw; cursor:pointer; box-shadow:0 0 25px #ff69b4; transition:0.5s; min-height:12vw; }
    button:hover, button:active { transform:scale(1.1); box-shadow:0 0 40px #ff1493; }
    .top { margin:6vw; font-size:5vw; background:rgba(0,0,0,0.7); padding:5vw; border-radius:25px; }
    nav { position:fixed; bottom:0; left:0; width:100%; background:rgba(0,0,0,0.8); padding:3vw; text-align:center; z-index:20; backdrop-filter: blur(15px); display:flex; justify-content:space-around; }
    nav button { flex:1; margin:2vw; padding:3vw; font-size:4.5vw; background:#ff1493; box-shadow:0 0 20px #ff69b4; }

    #case-model { width:65vw; height:65vw; max-width:250px; max-height:250px; margin:10vw auto; background:url('https://static.vecteezy.com/system/resources/previews/000/226/725/original/vector-red-japanese-envelope-with-sakura-branch.jpg') center/cover; cursor:pointer; transition:0.6s; border-radius:40px; box-shadow:0 0 40px #ff1493; position:relative; overflow:hidden; }
    #case-model::after { content:''; position:absolute; top:0; left:0; width:100%; height:100%; background:url('https://w0.peakpx.com/wallpaper/508/472/HD-wallpaper-anime-sunset-lantern-fireworks-festival.jpg') center/cover; opacity:0; transition:0.6s; mix-blend-mode:screen; }
    #case-model:hover::after, #case-model:active::after { opacity:0.4; }
    #case-model.opening { animation: shakeOpen 2s ease-in-out; }
    @keyframes shakeOpen {
      0% { transform: scale(1) rotate(0); }
      20% { transform: scale(1.15) rotate(-12deg); box-shadow: 0 0 60px #ff1493; }
      50% { transform: scale(1.4); opacity: 0.6; }
      100% { transform: scale(1) rotate(0); opacity: 1; }
    }

    #drop-animation { position:fixed; top:50%; left:50%; transform:translate(-50%,-50%); width:90vw; height:70vh; max-width:360px; max-height:500px; display:none; z-index:30; animation:revealCard 1.2s ease-out; }
    @keyframes revealCard { from {opacity:0; transform:scale(0.4) translate(-50%,-50%);} to {opacity:1; transform:scale(1) translate(-50%,-50%);} }
    .card-display { width:100%; height:100%; background:rgba(0,0,0,0.7); border:6px solid gold; border-radius:30px; padding:5vw; text-align:center; box-shadow:0 0 50px #ffd700; position:relative; overflow:hidden; }
    .rarity-common { border-color:#bbb; }
    .rarity-rare { border-color:#00ff00; }
    .rarity-epic { border-color:#ff00ff; box-shadow:0 0 60px #ff00ff; }
    .card-img { width:70vw; height:70vw; max-width:260px; max-height:260px; object-fit:cover; border-radius:20px; margin:8vw 0; box-shadow:0 0 30px #ff69b4; }
    #collection { display:grid; grid-template-columns:repeat(auto-fill, minmax(40vw,1fr)); gap:4vw; margin:6vw; padding:3vw; }
    .collected-card { width:100%; padding-bottom:133%; background-size:cover; background-position:center; border-radius:15px; opacity:0.7; box-shadow:0 0 15px #000; transition:0.5s; position:relative; }
    .collected-card.owned { opacity:1; box-shadow:0 0 30px gold; transform:scale(1.05); animation: pulse 3s infinite; }
    @keyframes pulse { 0% { transform:scale(1.05); } 50% { transform:scale(1.15); } 100% { transform:scale(1.05); } }
    #daily-info { font-size:6vw; margin:8vw; padding:5vw; background:rgba(255,20,147,0.4); border-radius:30px; box-shadow:0 0 25px #ff69b4; }

    /* –ú–µ–¥–∏–∞-–∑–∞–ø—Ä–æ—Å—ã –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è */
    @media (min-width: 600px) {
      h1 { font-size:5vw; }
      .countdown { font-size:4vw; }
      button { font-size:3.5vw; padding:3vw 6vw; }
      nav button { font-size:3vw; }
      #daily-info { font-size:4vw; }
    }
    @media (min-width: 1024px) {
      h1 { font-size:3.5vw; }
      .countdown { font-size:2.5vw; }
      button { font-size:2vw; }
      #daily-info { font-size:2.5vw; }
    }
  </style>
</head>
<body>
  <div id="snow"></div>

  <div id="home" class="container active">
    <h1>üå∏ Morikawa<br>–ù–æ–≤—ã–π –≥–æ–¥ 2026 ‚õ©Ô∏è</h1>
    <div class="countdown" id="countdown"></div>
    <p>–ü–æ–π–º–∞–π –∫–∞–¥–∑—é–Ω—ã! üßß</p>
    <div class="score">–û—á–∫–∏: <span id="score">0</span></div>
    <div id="game"></div>
    <div class="top" id="top">–¢–æ–ø —Å–µ–≥–æ–¥–Ω—è: –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è...</div>
    <div class="buttons">
      <button onclick="Telegram.WebApp.openLink('https://forms.gle/BE1kb2Hk94wk6ph87')">üéç –ü–æ–¥–∞—Ç—å –∑–∞—è–≤–∫—É</button>
      <button onclick="copyCoords()">üìç –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã: —Ä–æ–∑–æ–≤–∞—è 1700</button>
      <button onclick="Telegram.WebApp.close()">‚ú® –ó–∞–∫—Ä—ã—Ç—å</button>
    </div>
  </div>

  <div id="leaderboard" class="container">
    <h1>üèÜ –õ–∏–¥–µ—Ä—ã –ø–æ –∫–∞–¥–∑—é–Ω–∞–º</h1>
    <div class="top" id="leader-list">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
    <button onclick="switchPage('home')">–ù–∞–∑–∞–¥</button>
  </div>

  <div id="cards" class="container">
    <h1>üé≤ –ù–æ–≤–æ–≥–æ–¥–Ω–∏–µ –∫–µ–π—Å—ã Morikawa</h1>
    <div id="daily-info">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
    <div id="case-model" onclick="openCase(false)"></div>
    <button onclick="openCase(true)">–û—Ç–∫—Ä—ã—Ç—å –∑–∞ 100 –º–æ–Ω–µ—Ç üå∏</button>

    <div id="drop-animation">
      <div class="card-display" id="dropped-card">
        <h2 id="card-name"></h2>
        <div id="card-rarity"></div>
        <img id="card-image" class="card-img" src="">
        <p id="card-desc"></p>
        <button onclick="closeDrop()">–ó–∞–±—Ä–∞—Ç—å!</button>
      </div>
    </div>

    <h2>–¢–≤–æ—è –∫–æ–ª–ª–µ–∫—Ü–∏—è</h2>
    <div id="collection">–ó–∞–≥—Ä—É–∑–∫–∞...</div>

    <button onclick="switchPage('home')">–ù–∞–∑–∞–¥</button>
  </div>

  <nav>
    <button onclick="switchPage('home')">–ì–ª–∞–≤–Ω–∞—è</button>
    <button onclick="switchPage('leaderboard')">–õ–∏–¥–µ—Ä—ã</button>
    <button onclick="switchPage('cards')">–ö–µ–π—Å—ã</button>
  </nav>

  <script>
    // –í–µ—Å—å —Å–∫—Ä–∏–ø—Ç –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è (PocketBase, initPlayer, openCase, loadCollection, –∫–∞–¥–∑—é–Ω—ã –∏ —Ç.–¥.)
    // –û–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º —Å –Ω–æ–≤—ã–º responsive –¥–∏–∑–∞–π–Ω–æ–º!
    // (–ß—Ç–æ–±—ã –Ω–µ –ø–æ–≤—Ç–æ—Ä—è—Ç—å ‚Äî –ø—Ä–æ—Å—Ç–æ –≤—Å—Ç–∞–≤—å –∏–∑ –º–æ–µ–≥–æ –ø—Ä–æ—à–ª–æ–≥–æ –ø–æ–ª–Ω–æ–≥–æ –∫–æ–¥–∞ –≤–µ—Å—å <script>)
  </script>
</body>
</html>
